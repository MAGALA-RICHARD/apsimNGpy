source("C:/Users/rmagala/OneDrive/simulations/Data-analysis-Morrow-Plots/scenario analysis.R")
source("C:/Users/rmagala/OneDrive/simulations/Data-analysis-Morrow-Plots/scenario analysisx.R")
# sct <- read.csv("sctrial.csv")
# al <- lm(sct$ending ~ sct$ending.soc)
# reg_param(al)
dyn.sim = "C:\\Users\\rmagala\\OneDrive\\simulations\\objective_2\\illnois\\DATA\\APSIM_WORKSPACE_FILES\\Morrow_plots_new_calibration\\Integrated_morrow_plotsSim"
file.exists(dyn.sim)
getwd()
t
getwd()
source("C:/Users/rmagala/OneDrive/simulations/Data-analysis-Morrow-Plots/scenario analysisx.R")
cwd
getwd()
cwd =dirname(rstudioapi::getActiveDocumentContext()$path)
source("C:/Users/rmagala/OneDrive/simulations/Data-analysis-Morrow-Plots/scenario analysisx.R")
pd
model
pd = predict(model, testing_data)
carbon_scenario
# view summary of the scenarios
s_carbon_single =analyse_variables('SOC_0_15CM', gather_name = 'soc', table ='carbon', db = 'tillage_scenario3.db', summary = TRUE)
# calculate the yield
ccmaize_yield <- bind.reports(lapply(p3cc, calculate.mean.yield))
ccmaize_yield
p3cc <- read_apsimx('ContCCC1.db', value = 'report', simplify = FALSE,
src.dir = dyn.sim)
p3cc
bind.reports(lapply(p3cc, calculate.soc.change))
till <- read_apsimx("tillage_scenario.db", value = "report", simplify = FALSE)
yield2  = read_apsimx("tillage_scenario2.db", value = 'report', simplify = FALSE)# the original is tillage_scenario
source("C:/Users/rmagala/OneDrive/simulations/Data-analysis-Morrow-Plots/scenario analysisx.R")
source("C:/Users/rmagala/OneDrive/simulations/Data-analysis-Morrow-Plots/scenario analysisx.R")
APSIM_data
till <- read_apsimx("tillage_scenario.db", value = "report", simplify = FALSE)
till
source("C:/Users/rmagala/OneDrive/simulations/Data-analysis-Morrow-Plots/scenario analysisx.R")
yield2  = read_apsimx("tillage_scenario2.db", value = 'report', simplify = FALSE)# the original is tillage_scenario
myd = yield2$Yield_eports
myd = yield2$Yield_eports
Nfactor = paste0("N", myd$Nitrogen)
myd$Nitrogen = Nfactor
Residuefactor = paste0("R", myd$Residue)
datay = myd%>%dplyr::select(year, Nitrogen, Residue, grainwt, BBiomass, maizeyield, Abiomas, SimulationID)
myd$Nitrogen
